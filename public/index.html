<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>경청프린세스 메이커</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">👑</div>
        <div>
          <div class="title">경청프린세스 메이커</div>
          <div class="subtitle">20턴을 무사히 마치고 최고 점수의 공주가 되어보자</div>
        </div>
      </div>
      <nav class="nav">
        <button class="ghost" id="navGameBtn">게임</button>
        <button class="ghost" id="navBoardBtn">대시보드</button>
      </nav>
    </header>

    <!-- Start -->
    <main class="screen" id="screenStart">
      <div class="card">
        <h2>공주 이름을 입력해줘</h2>
        <p class="muted">이름은 대시보드에 기록된다.</p>

        <div class="row">
          <input id="nameInput" class="input" maxlength="20" placeholder="예: 소영 공주" />
          <button id="startBtn" class="primary">시작하기</button>
        </div>

        <div class="rules">
          <h3>게임 규칙</h3>
          <ul class="no-bullets">
            <li> 체력/재력/매력/지성/사회성: 각 5점으로 시작</li>
            <li> <strong>하나의 경험치라도 0점이 되면 즉시 게임오버</li>
            <li> 총 20턴 진행 (60개의 상황이 랜덤으로 나옴)</li>
            <li> 선택 전에는 경험치 변화가 보이지 않음</li>
            <li> 선택 후 변화가 공개됨 (단, “행동을 한다” 선택 시에만 반영)</li>
            <li> 최종적으로 가장 높은 점수를 받은 공주가 승리</li>
          </ul>
        </div>
      </div>
    </main>

    <!-- Game -->
    <main class="screen hidden" id="screenGame">
      <div class="grid2">
        <section class="panel card">
          <div class="panelHeader">
            <div>
              <div class="panelTitle" id="princessLabel">공주</div>
              <div class="muted" id="turnLabel">턴 1 / 20</div>
            </div>
            <div class="pill" id="deckLabel">덱: 60장</div>
          </div>

          <div class="playArea">
            <div class="situationRow">
              <div class="situationBox">
                <div class="situationTitle">상황</div>
                <div class="situationText" id="situationText">-</div>
              </div>

              <div class="photoCard" id="photoCard">
                <img id="cardImg" alt="상황 사진" />
                <div class="photoOverlay hidden" id="photoOverlay"></div>
              </div>
            </div>

            <div class="promptBox" id="promptBox">
              <div class="promptText" id="promptText">이 행동을 할까, 말까?</div>
            </div>

            <div class="actions" id="actionButtons">
              <button class="primary" id="doBtn">행동을 한다</button>
              <button class="secondary" id="skipBtn">행동을 안한다</button>
            </div>

            <div class="muted" id="autoHint" style="display:none;">다음 카드로 넘어가는 중…</div>
          </div>
        </section>

        <section class="panel card">
          <div class="panelHeader">
            <div class="panelTitle">현재 경험치</div>
            <div class="muted">초기값: 각 5점</div>
          </div>

          <div class="stats" id="statsBox"></div>

          <div class="note">
            <div class="noteTitle">목표</div>
            <div class="muted">
              0점을 만들지 않고 최대 점수로 20턴을 완료해라.
              (최종 점수 = 5개 경험치 합)
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Result -->
    <main class="screen hidden" id="screenResult">
      <div class="card">
        <h2 id="resultTitle">결과</h2>
        <p class="muted" id="resultSub">최종 경험치를 대시보드에 저장했다.</p>

        <div class="resultGrid">
          <div class="resultBox">
            <div class="bigNumber" id="finalTotal">0</div>
            <div class="muted">최종 점수 (합계)</div>
          </div>
          <div class="resultBox">
            <div class="stats" id="finalStats"></div>
          </div>
        </div>

        <div class="row">
          <button class="secondary" id="playAgainBtn">다시하기</button>
          <button class="primary" id="goBoardBtn">대시보드 보기</button>
        </div>
      </div>
    </main>

    <!-- Dashboard -->
    <main class="screen hidden" id="screenBoard">
      <div class="card">
        <div class="row spaceBetween">
          <div>
            <h2>대시보드</h2>
            <p class="muted">총점(합계) 기준으로 정렬된다. 게임오버도 기록된다.</p>
          </div>
          <button class="secondary" id="refreshBoardBtn">새로고침</button>
        </div>

        <div class="rankBox" id="myRankBox"></div>
        <div class="tableWrap">
          <table class="table" id="boardTable">
            <thead>
              <tr>
                <th>순위</th>
                <th>공주</th>
                <th>상태</th>
                <th>종료 턴</th>
                <th>총점</th>
                <th>체력</th>
                <th>재력</th>
                <th>매력</th>
                <th>지성</th>
                <th>사회성</th>
                <th>기록</th>
              </tr>
            </thead>
            <tbody id="boardBody"></tbody>
          </table>
        </div>

        <div class="row">
          <button class="primary" id="boardToGameBtn">게임하러 가기</button>
        </div>
      </div>
    </main>

    <footer class="footer muted">
      © 경청프린세스 메이커
    </footer>
  </div>

  <script src="/app.js"></script>
</body>
</html>
